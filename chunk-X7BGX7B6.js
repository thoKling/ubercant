import{c as H,d as z,g as m,h as $,i as g,q as Z,w as J}from"./chunk-WNA7TV27.js";import{B as T,Ca as C,Cc as V,E as q,F as P,Fa as Q,Z as N,a as o,b as E,c as I,ca as u,f as k,fa as O,gb as U,i as D,ia as l,k as L,l as y,p as W,q as x,rb as G,u as j}from"./chunk-XOM32O7N.js";var F=class{baseUrl="";securityData=null;securityWorker;abortControllers=new Map;customFetch=(...r)=>fetch(...r);baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"};constructor(r={}){Object.assign(this,r)}setSecurityData=r=>{this.securityData=r};encodeQueryParam(r,e){return`${encodeURIComponent(r)}=${encodeURIComponent(typeof e=="number"?e:`${e}`)}`}addQueryParam(r,e){return this.encodeQueryParam(e,r[e])}addArrayQueryParam(r,e){return r[e].map(i=>this.encodeQueryParam(e,i)).join("&")}toQueryString(r){let e=r||{};return Object.keys(e).filter(i=>typeof e[i]<"u").map(i=>Array.isArray(e[i])?this.addArrayQueryParam(e,i):this.addQueryParam(e,i)).join("&")}addQueryParams(r){let e=this.toQueryString(r);return e?`?${e}`:""}contentFormatters={"application/json":r=>r!==null&&(typeof r=="object"||typeof r=="string")?JSON.stringify(r):r,"text/plain":r=>r!==null&&typeof r!="string"?JSON.stringify(r):r,"multipart/form-data":r=>Object.keys(r||{}).reduce((e,t)=>{let i=r[t];return e.append(t,i instanceof Blob?i:typeof i=="object"&&i!==null?JSON.stringify(i):`${i}`),e},new FormData),"application/x-www-form-urlencoded":r=>this.toQueryString(r)};mergeRequestParams(r,e){return E(o(o(o({},this.baseApiParams),r),e||{}),{headers:o(o(o({},this.baseApiParams.headers||{}),r.headers||{}),e&&e.headers||{})})}createAbortSignal=r=>{if(this.abortControllers.has(r)){let t=this.abortControllers.get(r);return t?t.signal:void 0}let e=new AbortController;return this.abortControllers.set(r,e),e.signal};abortRequest=r=>{let e=this.abortControllers.get(r);e&&(e.abort(),this.abortControllers.delete(r))};request=_=>k(this,null,function*(){var p=_,{body:r,secure:e,path:t,type:i,query:s,format:a,baseUrl:h,cancelToken:d}=p,f=I(p,["body","secure","path","type","query","format","baseUrl","cancelToken"]);let ee=(typeof e=="boolean"?e:this.baseApiParams.secure)&&this.securityWorker&&(yield this.securityWorker(this.securityData))||{},v=this.mergeRequestParams(f,ee),M=s&&this.toQueryString(s),te=this.contentFormatters[i||"application/json"],A=a||v.format;return this.customFetch(`${h||this.baseUrl||""}${t}${M?`?${M}`:""}`,E(o({},v),{headers:o(o({},v.headers||{}),i&&i!=="multipart/form-data"?{"Content-Type":i}:{}),signal:(d?this.createAbortSignal(d):v.signal)||null,body:typeof r>"u"||r===null?null:te(r)})).then(R=>k(this,null,function*(){let c=R.clone();c.data=null,c.error=null;let B=A?yield R[A]().then(w=>(c.ok?c.data=w:c.error=w,c)).catch(w=>(c.error=w,c)):c;if(d&&this.abortControllers.delete(d),!R.ok)throw B;return B}))})},S=class extends F{getHello=(r={})=>this.request(o({path:"/",method:"GET",format:"json"},r));command={getCommand:(r={})=>this.request(o({path:"/command",method:"GET",format:"json"},r)),makeCommand:(r,e={})=>this.request(o({path:"/command",method:"POST",body:r,type:"application/json"},e))};product={addProduct:(r,e={})=>this.request(o({path:"/product",method:"POST",body:r,type:"application/json"},e)),getProducts:(r={})=>this.request(o({path:"/product",method:"GET",format:"json"},r))};authentication={getToken:(r={})=>this.request(o({path:"/authentication/img-auth/token",method:"GET"},r))}};var Y=class n{api;constructor(){this.api=new S({baseUrl:J.apiUrl})}get product(){return this.api.product}get command(){return this.api.command}getProducts(){return W(this.product.getProducts()).pipe(j(r=>r.data))}static \u0275fac=function(e){return new(e||n)};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})};function _e(n){return n&&typeof n.connect=="function"&&!(n instanceof L)}var b=function(n){return n[n.REPLACED=0]="REPLACED",n[n.INSERTED=1]="INSERTED",n[n.MOVED=2]="MOVED",n[n.REMOVED=3]="REMOVED",n}(b||{}),ye=new O("_ViewRepeater"),X=class{applyChanges(r,e,t,i,s){r.forEachOperation((a,h,d)=>{let f,_;if(a.previousIndex==null){let p=t(a,h,d);f=e.createEmbeddedView(p.templateRef,p.context,p.index),_=b.INSERTED}else d==null?(e.remove(h),_=b.REMOVED):(f=e.get(h),e.move(f,d),_=b.MOVED);s&&s({context:f?.context,operation:_,record:a})})}detach(){}};var ve=(()=>{class n{_listeners=[];notify(e,t){for(let i of this._listeners)i(e,t)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(t=>e!==t)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(t){return new(t||n)};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ie=20,ne=(()=>{class n{_ngZone=l(C);_platform=l(z);_document=l(V,{optional:!0});constructor(){}_scrolled=new y;_globalSubscription=null;_scrolledCount=0;scrollContainers=new Map;register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=ie){return this._platform.isBrowser?new D(t=>{this._globalSubscription||this._addGlobalListener();let i=e>0?this._scrolled.pipe(P(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):x()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){let i=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(q(s=>!s||i.indexOf(s)>-1))}getAncestorScrollContainers(e){let t=[];return this.scrollContainers.forEach((i,s)=>{this._scrollableContainsElement(s,e)&&t.push(s)}),t}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,t){let i=H(t),s=e.getElementRef().nativeElement;do if(i==s)return!0;while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return T(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ct=(()=>{class n{elementRef=l(Q);scrollDispatcher=l(ne);ngZone=l(C);dir=l(Z,{optional:!0});_destroyed=new y;_elementScrolled=new D(e=>this.ngZone.runOutsideAngular(()=>T(this.elementRef.nativeElement,"scroll").pipe(N(this._destroyed)).subscribe(e)));constructor(){}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let t=this.elementRef.nativeElement,i=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=i?e.end:e.start),e.right==null&&(e.right=i?e.start:e.end),e.bottom!=null&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),i&&g()!=m.NORMAL?(e.left!=null&&(e.right=t.scrollWidth-t.clientWidth-e.left),g()==m.INVERTED?e.left=e.right:g()==m.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let t=this.elementRef.nativeElement;$()?t.scrollTo(e):(e.top!=null&&(t.scrollTop=e.top),e.left!=null&&(t.scrollLeft=e.left))}measureScrollOffset(e){let t="left",i="right",s=this.elementRef.nativeElement;if(e=="top")return s.scrollTop;if(e=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let a=this.dir&&this.dir.value=="rtl";return e=="start"?e=a?i:t:e=="end"&&(e=a?t:i),a&&g()==m.INVERTED?e==t?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:a&&g()==m.NEGATED?e==t?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==t?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}static \u0275fac=function(t){return new(t||n)};static \u0275dir=G({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return n})(),se=20,St=(()=>{class n{_platform=l(z);_listeners;_viewportSize;_change=new y;_document=l(V,{optional:!0});constructor(){let e=l(C),t=l(U).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=s=>this._change.next(s);this._listeners=[t.listen("window","resize",i),t.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:t,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+t,height:i,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,t=this._getWindow(),i=e.documentElement,s=i.getBoundingClientRect(),a=-s.top||e.body.scrollTop||t.scrollY||i.scrollTop||0,h=-s.left||e.body.scrollLeft||t.scrollX||i.scrollLeft||0;return{top:a,left:h}}change(e=se){return e>0?this._change.pipe(P(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(t){return new(t||n)};static \u0275prov=u({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();export{_e as a,b,ye as c,X as d,ve as e,ne as f,Ct as g,St as h,Y as i};
